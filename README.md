# fluidics

![Screenshots](doc/screenshots.png)

This repository contains code to help with design of fluidic circuits. It
leverages the existing Free Software tools [KiCAD](https://www.kicad.org/) and
[OpenSCAD](https://openscad.org/) to provide a complete, integrated workspace.

## Components
| Files | Description |
| :-- | :-- |
| `kiconvert.py` | Generates OpenSCAD files inside a KiCAD project. |
| `fluidics.kicad_sym` | KiCAD symbols for fluidics schematics. |
| `fluidics.pretty/*` | KiCAD footprints for fluidics components. |
| `lib/*` | OpenSCAD support files. |
| `lib/fluidics/*` | Component-specific OpenSCAD scripts. |
| `doc/*` | Project documentation. |

## Installing
First, one should install KiCAD and OpenSCAD. The following command should do
the job in Debian or Ubuntu:

``` bash
  sudo apt install kicad openscad
```

You can see what version of KiCAD you have installed with something like this
(also Debian/Ubuntu):

``` bash
  KICAD_VERSION=$(cut -d '.' -f 1,2 <<< "$(apt version kicad)")
  echo "$KICAD_VERSION"
```

Now, from the top-level directory in this package, install the provided KiCAD
symbols and footprints:

``` bash
  cp -r ./kicad/* ~/.local/share/kicad/"$KICAD_VERSION"/
```

# Usage
Suppose there is a KiCAD project directory at `my_project/`. OpenSCAD files can be generated by running:

``` bash
  path/to/fluidics/kiconvert.py my_project/
```

Then, a few files will be created within the project folder:

| Files | Description |
| :-- | :-- |
| `my_project/my_project.scad` | Base script to generate the board. |
| `my_project/scad/*` | Any required files, copied from `lib/`. |

# Features
 - [x] Basic graphics shapes.
 - [x] F.Cu, B.Cu, F.Mask and B.Mask.
 - [x] Edge.Cuts for arbitrary board shape.
 - [ ] Custom scripts for components.
 - [ ] Quick export script (e.g. invoke Cura).
 - [ ] Silkscreen layers.
 - [ ] KiCAD rules for coexisting non-fluidic wires.
 - [ ] Inner copper layers.
 - [ ] SPICE models for hydraulics.
